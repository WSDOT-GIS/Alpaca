<!DOCTYPE html>
<html>
<head>
	<title>ALPACA - Application for Local Planning and Community Accessibility</title>
	<link rel="stylesheet" href="//js.arcgis.com/3.7/js/esri/css/esri.css" />
	<link href="//js.arcgis.com/3.7/js/dojo/dijit/themes/claro/claro.css" rel="stylesheet" />
	<link href="Style/index.min.css" rel="stylesheet" />
	<script>
		(function() {
			"use strict";
			var url, re = /\/[^\/]+$/;

			url = re.test(location.href) ? location.href.replace(re, "/") : location.href;

			var dojoConfig = {
				async: true,
				parseOnLoad: true,
				paths: {
					"alpaca": url + "Scripts/wsdot/alpaca"
				},
				packages: [
					{
						name: "CSV-Reader",
						location: url + "Scripts/wsdot/CSV-Reader"
					},
					{
						name: "layerUtils",
						location: url + "Scripts/wsdot/layerUtils"
					}
				]
			};

			window.dojoConfig = dojoConfig;
		}());
	</script>
	<script src="//js.arcgis.com/3.7/"></script>
	<script src="Scripts/default.js"></script>
</head>
<body class="claro">
	<div id="borderContainer"
		data-dojo-type="dijit/layout/BorderContainer"
		data-dojo-props="design:'headline', gutters:true, liveSplitters:true">
		<div id="sidebarPane" data-dojo-type="dijit/layout/ContentPane"
			data-dojo-props="splitter:true, region:'leading'">

					<div data-dojo-type="dijit/layout/AccordionContainer">
						<div data-dojo-type="dijit/layout/ContentPane" title="View">
							<div id="layerToggle"></div>
							<div id="userAddedDataSection">
								<h1>User Added Data</h1>
								<button type="button" id="addDataButton" data-dojo-type="dijit/form/Button">Add</button>
								<ul id="graphicsLayerList"></ul>
							</div>
						</div>
						<div data-dojo-type="dijit/layout/ContentPane" title="Title VI">
							<div>
								<div id="languageChart" style="width: 300px; height: 300px;"></div>
							</div>
							<div>
								<div id="minorityChart" style="width: 400px; height: 400px;"></div>
								<!--<div id="minorityChartLegend"></div>-->
							</div>
						</div>
						<div data-dojo-type="dijit/layout/ContentPane" title="Env. Justice"></div>
						<div data-dojo-type="dijit/layout/ContentPane" title="Population">
							<div>
								<div id="ageChart" style="width: 300px; height: 300px;"></div>
							</div>
						</div>
					</div>

		</div>
		<div id="mapPane" data-dojo-type="dijit/layout/ContentPane"
			data-dojo-props="splitter:true, region:'center'">
			<div id="map">
				<div id="toolbar" class="toolbar">
					<div data-dojo-type="dijit/form/DropDownButton">
						<span>Tools</span>
						<div data-dojo-type="dijit/DropDownMenu">
							<div data-dojo-type="dijit/PopupMenuItem">
								<span>Service Area</span>
								<div data-dojo-type="dijit/DropDownMenu">
									<div id="drawServiceAreaButton" data-alpaca-mode="service-area" data-dojo-type="dijit/MenuItem">Draw</div>
									<div id="clearServiceAreaButton" data-layer-id="serviceArea" data-dojo-type="dijit/MenuItem"
										data-dojo-props="iconClass:'dijitEditorIcon dijitEditorIconDelete'">Clear</div>
									<div data-dojo-type="dijit/MenuItem" data-dojo-props="disabled: true">By Layer</div>
								</div>
							</div>
							<div data-dojo-type="dijit/PopupMenuItem">
								<span>Selection</span>
								<div data-dojo-type="dijit/DropDownMenu">
									<div data-dojo-type="dijit/PopupMenuItem">
										<span>Draw</span>
										<div data-dojo-type="dijit/DropDownMenu">
											<div id="drawPointsSelectionButton" data-alpaca-mode="selection" data-geometry-type="MULTI_POINT" data-dojo-type="dijit/MenuItem">Points</div>
											<div id="drawLineSelectionButton" data-alpaca-mode="selection" data-geometry-type="POLYLINE" data-dojo-type="dijit/MenuItem">Lines</div>
											<div id="drawPolylineSelectionButton" data-alpaca-mode="selection" data-geometry-type="POLYGON" data-dojo-type="dijit/MenuItem">Polygon</div>
										</div>
									</div>
									
									<div id="clearSelectionButton" data-layer-id="selection" 
										data-dojo-type="dijit/MenuItem" 
										data-dojo-props="iconClass:'dijitEditorIcon dijitEditorIconDelete'">Clear</div>
									<div data-dojo-type="dijit/MenuItem" data-dojo-props="disabled: true">By Layer</div>
								</div>
							</div>
							
							<div id="basemapButton" data-dojo-type="dijit/PopupMenuItem">
								<span>Basemap</span>
								<div data-dojo-type="dijit/TooltipDialog">
									<div id="basemapGallery"></div>
								</div>
							</div>
							<div id="printMenuItem" data-dojo-type="dijit/MenuItem" 
								data-dojo-props="iconClass:'dijitEditorIcon dijitEditorIconPrint'">Print</div>
						</div>
					</div>
				</div>
				<progress id="mapProgress">Loading data...</progress>
			</div>

		</div>
	</div>

	<form id="printForm" hidden="hidden" action="Print.aspx" target="_blank" method="post">
		<input name="extent" type="hidden" />
		<input name="chartdata" type="hidden" />
		<input name="graphics" type="hidden" />
		<input name="renderer" type="hidden" />
	</form>

	<div id="addCsvDialog" data-dojo-type="dijit/Dialog" data-dojo-props='title:"Add CSV to Map"'>
		<input id="addCsvFileInput" type="file" />
	</div>
</body>
</html>
