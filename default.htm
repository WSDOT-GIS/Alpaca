<!DOCTYPE html>
<html>
<head>
	<title>ALPACA - Application for Local Planning and Community Accessibility</title>
	<link rel="stylesheet" href="//js.arcgis.com/3.8/js/esri/css/esri.css" />
	<link href="//js.arcgis.com/3.8/js/dojo/dijit/themes/claro/claro.css" rel="stylesheet" />
	<link href="Style/index.min.css" rel="stylesheet" />

	<script>
		(function() {
			"use strict";
			var url, re = /\/[^\/]+$/;

			url = re.test(location.href) ? location.href.replace(re, "/") : location.href;

			var dojoConfig = {
				async: true,
				parseOnLoad: true,
				paths: {
					"alpaca": url + "Scripts/wsdot/alpaca"
				},
				packages: [
					{
						name: "CSV-Reader",
						location: url + "Scripts/wsdot/CSV-Reader"
					},
					{
						name: "layerUtils",
						location: url + "Scripts/wsdot/layerUtils"
					}
				]
			};

			window.dojoConfig = dojoConfig;
		}());
	</script>
	<script src="//js.arcgis.com/3.8/"></script>
	<script src="Scripts/default.js"></script>
	<script type="text/javascript">
		// Setup Google Analytics, but not if user has specified that they don't want to be tracked.
		var _gaq = _gaq || [];
		(function (dnt) {
			if (dnt !== "yes" && dnt !== "1") {
				_gaq.push(['_setAccount', 'UA-970887-21']);
				_gaq.push(['_trackPageview']);

				(function () {
					var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
					ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
					var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
				})();
			}
		}(navigator.doNotTrack || navigator.msDoNotTrack || null));

	</script>
</head>
<body class="claro">
	<div id="outerBorderContainer" data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="gutters:false">
		<div id="headerPane" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'top'">
			<img id="wsdotLogo" src="//www.wsdot.wa.gov/media/images/back/greenlogo.png" alt="WSDOT" height="39" width="240" />
			<h1>
				
				<!--<abbr title="Washington State Department of Transportation">WSDOT</abbr>-->
				<abbr title="Application for Local Planning and Community Accessibility">Alpaca</abbr>
			</h1>
		</div>
		<div id="outerContentPane" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region: 'center'">
			<div id="borderContainer"
				data-dojo-type="dijit/layout/BorderContainer"
				data-dojo-props="design:'headline', gutters:false, liveSplitters:true">
				<div id="sidebarPane" data-dojo-type="dijit/layout/ContentPane"
					data-dojo-props="splitter:true, region:'leading'">

							<div data-dojo-type="dijit/layout/AccordionContainer">
								<div data-dojo-type="dijit/layout/ContentPane" title="View">
									<div id="layerToggle"></div>
									<div id="userAddedDataSection">
										<h1>User Added Data</h1>
										<button type="button" id="addDataButton" data-dojo-type="dijit/form/Button">Add</button>
										<ul id="graphicsLayerList"></ul>
									</div>
								</div>
								<div data-dojo-type="dijit/layout/ContentPane" title="Title VI charts">
									<div>
										<div id="languageChart" style="width: 300px; height: 300px;"></div>
									</div>
									<div>
										<div id="minorityChart" style="width: 300px; height: 300px;"></div>
										<!--<div id="minorityChartLegend"></div>-->
									</div>
								</div>
								<div data-dojo-type="dijit/layout/ContentPane" title="Env. Justice charts">
									<div>
										<div id="povertyChart" style="width: 300px; height: 300px;"></div>
									</div>
								</div>
								<div data-dojo-type="dijit/layout/ContentPane" title="Population charts">
									<div>
										<div id="ageChart" style="width: 300px; height: 300px;"></div>
										<div id="veteranChart" style="width: 300px; height: 300px;"></div>
									</div>
								</div>
							</div>

				</div>
				<div id="mapPane" data-dojo-type="dijit/layout/ContentPane"
					data-dojo-props="splitter:true, region:'center'">
					<div id="map">
						<div id="toolbar" class="toolbar">
							<div data-dojo-type="dijit/form/DropDownButton">
								<span>Tools</span>
								<div data-dojo-type="dijit/DropDownMenu">
									<div data-dojo-type="dijit/PopupMenuItem">
										<span>Service Area</span>
										<div data-dojo-type="dijit/DropDownMenu">
											<div id="drawServiceAreaButton" data-alpaca-mode="service-area" data-dojo-type="dijit/MenuItem">Draw</div>
											<div id="clearServiceAreaButton" data-layer-id="serviceArea" data-dojo-type="dijit/MenuItem"
												data-dojo-props="iconClass:'dijitEditorIcon dijitEditorIconDelete'">Clear</div>
											<div data-dojo-type="dijit/MenuItem" data-dojo-props="disabled: true">By Layer</div>
										</div>
									</div>
									<div data-dojo-type="dijit/PopupMenuItem">
										<span>Selection</span>
										<div data-dojo-type="dijit/DropDownMenu">
											<div data-dojo-type="dijit/PopupMenuItem">
												<span>Draw</span>
												<div data-dojo-type="dijit/DropDownMenu">
													<div id="drawPointsSelectionButton" data-alpaca-mode="selection" data-geometry-type="MULTI_POINT" data-dojo-type="dijit/MenuItem">Points</div>
													<div id="drawLineSelectionButton" data-alpaca-mode="selection" data-geometry-type="POLYLINE" data-dojo-type="dijit/MenuItem">Lines</div>
													<div id="drawPolylineSelectionButton" data-alpaca-mode="selection" data-geometry-type="POLYGON" data-dojo-type="dijit/MenuItem">Polygon</div>
												</div>
											</div>
									
											<div id="clearSelectionButton" data-layer-id="selection" 
												data-dojo-type="dijit/MenuItem" 
												data-dojo-props="iconClass:'dijitEditorIcon dijitEditorIconDelete'">Clear</div>
											<div data-dojo-type="dijit/MenuItem" data-dojo-props="disabled: true">By Layer</div>
										</div>
									</div>
							
									<div id="basemapButton" data-dojo-type="dijit/PopupMenuItem">
										<span>Basemap</span>
										<div data-dojo-type="dijit/TooltipDialog">
											<div id="basemapGallery"></div>
										</div>
									</div>
									<div id="printMenuItem" data-dojo-type="dijit/MenuItem" 
										data-dojo-props="iconClass:'dijitEditorIcon dijitEditorIconPrint'">Print</div>
								</div>
							</div>
						</div>
						<progress id="mapProgress">Loading data...</progress>
					</div>

				</div>
			</div>
		</div> 
	</div>
	<form id="printForm" hidden="hidden" action="Print.aspx" target="_blank" method="post">
		<input name="extent" type="hidden" />
		<input name="chartdata" type="hidden" />
		<input name="graphics" type="hidden" />
		<input name="renderer" type="hidden" />
	</form>

	<div id="addCsvDialog" data-dojo-type="dijit/Dialog" data-dojo-props='title:"Add CSV to Map"'>
		<input id="addCsvFileInput" type="file" />
	</div>
</body>
</html>
